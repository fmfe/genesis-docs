<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基于 Vue SSR 的微架构在 FOLLOWME5.0 实践 | Vue Genesis</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="基于 Vue SSR 的微前端、微服务、轻量级的解决方案">
    
    <link rel="preload" href="/genesis-docs/assets/css/0.styles.9716cb29.css" as="style"><link rel="preload" href="/genesis-docs/assets/js/app.022df389.js" as="script"><link rel="preload" href="/genesis-docs/assets/js/2.6651e0d9.js" as="script"><link rel="preload" href="/genesis-docs/assets/js/3.4e60ce74.js" as="script"><link rel="prefetch" href="/genesis-docs/assets/js/10.49dc398a.js"><link rel="prefetch" href="/genesis-docs/assets/js/11.b7fc9b06.js"><link rel="prefetch" href="/genesis-docs/assets/js/12.a52de3d4.js"><link rel="prefetch" href="/genesis-docs/assets/js/13.2b514f11.js"><link rel="prefetch" href="/genesis-docs/assets/js/14.ba15514c.js"><link rel="prefetch" href="/genesis-docs/assets/js/15.1e7ac3bb.js"><link rel="prefetch" href="/genesis-docs/assets/js/16.88519e39.js"><link rel="prefetch" href="/genesis-docs/assets/js/17.ce829375.js"><link rel="prefetch" href="/genesis-docs/assets/js/18.36a8f2b4.js"><link rel="prefetch" href="/genesis-docs/assets/js/19.3c6f9150.js"><link rel="prefetch" href="/genesis-docs/assets/js/20.889364e0.js"><link rel="prefetch" href="/genesis-docs/assets/js/21.4e36b231.js"><link rel="prefetch" href="/genesis-docs/assets/js/22.31f70d4b.js"><link rel="prefetch" href="/genesis-docs/assets/js/23.4b1e38b0.js"><link rel="prefetch" href="/genesis-docs/assets/js/24.d970ff37.js"><link rel="prefetch" href="/genesis-docs/assets/js/25.7467f657.js"><link rel="prefetch" href="/genesis-docs/assets/js/26.f80cc8b2.js"><link rel="prefetch" href="/genesis-docs/assets/js/4.fa8b61f4.js"><link rel="prefetch" href="/genesis-docs/assets/js/5.0d9d0dba.js"><link rel="prefetch" href="/genesis-docs/assets/js/6.06c3d24d.js"><link rel="prefetch" href="/genesis-docs/assets/js/7.6c204e70.js"><link rel="prefetch" href="/genesis-docs/assets/js/8.61a423db.js"><link rel="prefetch" href="/genesis-docs/assets/js/9.62b53333.js">
    <link rel="stylesheet" href="/genesis-docs/assets/css/0.styles.9716cb29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/genesis-docs/" class="home-link router-link-active"><!----> <span class="site-name">Vue Genesis</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/genesis-docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/genesis-docs/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="核心库" class="dropdown-title"><span class="title">核心库</span> <span class="arrow down"></span></button> <button type="button" aria-label="核心库" class="mobile-dropdown-title"><span class="title">核心库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/genesis-docs/core/" class="nav-link">
  genesis-core
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/compiler/" class="nav-link">
  genesis-compiler
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/app/" class="nav-link">
  genesis-app
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/remote/" class="nav-link">
  genesis-remote
</a></li></ul></div></div><div class="nav-item"><a href="/genesis-docs/blog/followme5.0.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  官方博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="多语言" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="多语言" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://anish2690.github.io/genesis-docs-en/" target="_self" class="nav-link external">
  English
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://fmfe.github.io/genesis-docs/guide/" target="_self" class="nav-link external">
  简体中文
  <!----></a></li></ul></div></div> <a href="https://github.com/fmfe/genesis" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/genesis-docs/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/genesis-docs/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="核心库" class="dropdown-title"><span class="title">核心库</span> <span class="arrow down"></span></button> <button type="button" aria-label="核心库" class="mobile-dropdown-title"><span class="title">核心库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/genesis-docs/core/" class="nav-link">
  genesis-core
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/compiler/" class="nav-link">
  genesis-compiler
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/app/" class="nav-link">
  genesis-app
</a></li><li class="dropdown-item"><!----> <a href="/genesis-docs/remote/" class="nav-link">
  genesis-remote
</a></li></ul></div></div><div class="nav-item"><a href="/genesis-docs/blog/followme5.0.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  官方博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="多语言" class="dropdown-title"><span class="title">多语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="多语言" class="mobile-dropdown-title"><span class="title">多语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://anish2690.github.io/genesis-docs-en/" target="_self" class="nav-link external">
  English
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://fmfe.github.io/genesis-docs/guide/" target="_self" class="nav-link external">
  简体中文
  <!----></a></li></ul></div></div> <a href="https://github.com/fmfe/genesis" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/genesis-docs/" aria-current="page" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><a href="/genesis-docs/guide/" class="sidebar-heading clickable"><span>指南</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/genesis-docs/guide/introduce.html" class="sidebar-link">介绍</a></li><li><a href="/genesis-docs/guide/" class="sidebar-link">快速开始</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/genesis-docs/guide/" class="sidebar-heading clickable"><span>进阶</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/genesis-docs/guide/renderer.html" class="sidebar-link">渲染器</a></li><li><a href="/genesis-docs/guide/micro.html" class="sidebar-link">微架构</a></li><li><a href="/genesis-docs/guide/meta.html" class="sidebar-link">页面元信息</a></li><li><a href="/genesis-docs/guide/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/genesis-docs/guide/babel.html" class="sidebar-link">Babel</a></li><li><a href="/genesis-docs/guide/postcss.html" class="sidebar-link">Postcss</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/genesis-docs/blog/" class="sidebar-heading clickable router-link-active open"><span>官方博客</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/genesis-docs/blog/followme5.0.html" aria-current="page" class="active sidebar-link">基于 Vue SSR 的微架构在 FOLLOWME5.0 实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#首次实践" class="sidebar-link">首次实践</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#无路由微模块" class="sidebar-link">无路由微模块</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#大跃进" class="sidebar-link">大跃进</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#genesis" class="sidebar-link">Genesis</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#远程组件" class="sidebar-link">远程组件</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#_5-0的服务拆分" class="sidebar-link">5.0的服务拆分</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#内网域名" class="sidebar-link">内网域名</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#服务的加载策略" class="sidebar-link">服务的加载策略</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#关于微前端" class="sidebar-link">关于微前端</a></li><li class="sidebar-sub-header"><a href="/genesis-docs/blog/followme5.0.html#传送们" class="sidebar-link">传送们</a></li></ul></li><li><a href="/genesis-docs/blog/2020-05-25.html" class="sidebar-link">基于 Vue CSR 的微前端实现方案</a></li><li><a href="/genesis-docs/blog/2020-06-18.html" class="sidebar-link">对远程组件进一步的设计和思考</a></li><li><a href="/genesis-docs/blog/2020-06-27.html" class="sidebar-link">带你了解基于 Vue 的微服务解决方案 Genesis</a></li><li><a href="/genesis-docs/blog/2021-01-21.html" class="sidebar-link">2021基于Vue SSR的微服务&amp;微前端的解决方案Genesis的一些最佳实践</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="基于-vue-ssr-的微架构在-followme5-0-实践"><a href="#基于-vue-ssr-的微架构在-followme5-0-实践" class="header-anchor">#</a> 基于 Vue SSR 的微架构在 FOLLOWME5.0 实践</h1> <p>2020年5月22日<a href="https://www.followme.com/c/21009745?source=genesis" target="_blank" rel="noopener noreferrer">FOLLOWME5.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的第一个版本终于上线了，这也是公司内部基于 <code>Genesis</code> 上线的第二个项目。首页是老项目经历了最原始的那种 Vue SSR，后来在年初的时候，迁移到了 Nuxt.js 下，再到现在迁移到了 <code>Genesis</code>，可谓是一波三折。</p> <h2 id="首次实践"><a href="#首次实践" class="header-anchor">#</a> 首次实践</h2> <p><img src="/genesis-docs/assets/img/20200524230624.3cc651fe.jpg" alt="">
在2019年的上半年，我们在和 APP 混合开发的项目中，首次实践了模块化，它拥有了独立的 API、路由、状态和页面，并且是按需进行初始化的，但是它并不是完美的，它是基于路由的微模块，并且状态也是按需注入到全局的状态中的管理</p> <h2 id="无路由微模块"><a href="#无路由微模块" class="header-anchor">#</a> 无路由微模块</h2> <p>2019年的8月份，我开始介入到 web 端首页的开发，首先面对的就是基于 Vuex 的状态管理，所有的状态全部注入到全局的状态，交集到一起，随着业务的迭代，已经分不清楚哪些是需要的，哪些是可以被删除的，随着业务规模的膨胀，越来越难以维护。为了保证无入侵性，基于<a href="https://www.npmjs.com/package/tms.js" target="_blank" rel="noopener noreferrer">Tms.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>抽象出来了一个支持微模块的状态库，这时候我们的微模块拥有了独立的 API、状态和页面。
<img src="/genesis-docs/assets/img/20200524232646.42ac2fb6.jpg" alt=""> <img src="/genesis-docs/assets/img/20200524232818.d25f822b.jpg" alt="">
我们5.0左导航就被抽离成一个独立运行的微模块，一个微模块由多个组件组合而成，它有自己内部状态管理。</p> <h2 id="大跃进"><a href="#大跃进" class="header-anchor">#</a> 大跃进</h2> <p>在2019年年底的时候，得知我们要升级5.0的版本，网站也将会大幅度的重构，在基于已有的微模块开发理念下，我们希望能够更近一步，解决一些以往项目架构的弊端。</p> <p>5.0之前，我们有一个公共的导航栏，不管是 CSR、还是 SSR 的项目都需要它，每次导航栏发生变更之后，都需要重新打包十几个项目发布，这极大的消耗了我们的身心体力，我希望能做到一个页面可以由不同的 SSR 服务聚合而成，通过 API 的形式提供给另外一个服务使用。</p> <p>这个大胆的想法诞生后，我们深入的研究了一下 Nuxt.js，期望它可以做到我们的需求，经过一番调研后，确认无法满足我的需求后，最终还是选择了造轮子。</p> <h2 id="genesis"><a href="#genesis" class="header-anchor">#</a> Genesis</h2> <p>参考了一些社区 SSR 框架的实现，基本上都是封装好的框架，灵活性较低，而我们期望它是一个简单的 SSR 库，当成一个工具函数来使用，以便于能够支撑多实例运行。</p> <p>在这里的理念下， 它没有像 Nuxt.js <code>nuxt.config.js</code> 这样直接读取一个配置开始运行，给你集成了各种各样的功能，它仅仅一个基础到不能再基础的渲染工具函数</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SSR</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@fmfe/genesis-core'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ssr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">SSR</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> renderer <span class="token operator">=</span> ssr<span class="token punctuation">.</span><span class="token function">createRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>当然了，在实际的业务中，我们还需要创建一个 HTTP 服务将我们的内容返回给用户。</p> <p>如果要做到微服务，并且能被不同的服务之间调用，首先就需要服务的自身具备将渲染结果输出 <code>JSON</code> 的能力，然后第三方服务读取渲染结果，输出到 HTML 中</p> <div class="language-ts extra-class"><pre class="language-ts"><code>renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> mode<span class="token operator">:</span> <span class="token string">'ssr-json'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我们巧妙的使用了 Vue 的 <code>Renderer</code> 选项 <a href="https://ssr.vuejs.org/zh/api/#template" target="_blank" rel="noopener noreferrer">template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，传入一个函数，执行完成后返回了一个 JSON 的渲染结果</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> template<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>
    strHtml<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
    ctx<span class="token operator">:</span> Genesis<span class="token punctuation">.</span>RenderContext
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Genesis<span class="token punctuation">.</span>RenderData<span class="token operator">&gt;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> html <span class="token operator">=</span> strHtml<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
        <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(&lt;[A-z]([A-z]|[0-9])+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">$1 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createRootNodeAttr</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> vueCtx<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> ctx<span class="token punctuation">;</span>
    <span class="token keyword">const</span> resource <span class="token operator">=</span> vueCtx<span class="token punctuation">.</span><span class="token function">getPreloadFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">:</span> Genesis<span class="token punctuation">.</span>RenderContextResource <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                file<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>ssr<span class="token punctuation">.</span>publicPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
                extension<span class="token operator">:</span> item<span class="token punctuation">.</span>extension
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> ctx<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>html <span class="token operator">===</span> <span class="token string">'&lt;!----&gt;'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createRootNodeAttr</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        data<span class="token punctuation">.</span>html <span class="token operator">+=</span> html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    data<span class="token punctuation">.</span>script <span class="token operator">+=</span> vueCtx<span class="token punctuation">.</span><span class="token function">renderScripts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">.</span>style <span class="token operator">+=</span> vueCtx<span class="token punctuation">.</span><span class="token function">renderStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">.</span>resource <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>data<span class="token punctuation">.</span>resource<span class="token punctuation">,</span> <span class="token operator">...</span>resource<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span>ctx <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>_subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">(</span>ctx <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>_subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ctx<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="远程组件"><a href="#远程组件" class="header-anchor">#</a> 远程组件</h2> <p>考虑到不是所有的项目，都需要远程调用，所以远程调用组件，我们是以独立的包提供的。在拿到 SSR JSON 的渲染结果后，远程组件将会帮我们负责嵌入到该服务的页面中去。</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remote-view</span> <span class="token attr-name">:fetch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fetch<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>fetch</code> 是一个异步的回调函数，你可以通过使用 axios 库来发送请求将 SSR 渲染的结果返回给 <code>remote-view</code> 组件。</p> <div class="language-ts extra-class"><pre class="language-ts"><code>renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> mode<span class="token operator">:</span> <span class="token string">'ssr-json'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 编写一个接口， 将 r.data 提供给 remote-view 组件访问</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_5-0的服务拆分"><a href="#_5-0的服务拆分" class="header-anchor">#</a> 5.0的服务拆分</h2> <p><img src="/genesis-docs/assets/img/20200525002108.dacbbb86.jpg" alt="">
根据 UI 的呈现效果，我们将左导航和内容区拆分成不同的服务，其中内容区因为开发团队的不同、业务的不同，又拆分成不同的服务。
第一个版本我们拆分了左导航的 <code>node-ssr-general</code> 服务，首页和通知的 <code>node-ssr-home</code> 服务，以及信号的 <code>node-ssr-signal</code> 服务，每一个服务都是独立部署、独立开发、由不同的人进行维护，只是最终由 <code>node-ssr-general</code> 服务进行聚合。</p> <p>未来我们的产品还将会进一步迭代，越来越多的服务都将会被集成进去这个大应用中。</p> <h2 id="内网域名"><a href="#内网域名" class="header-anchor">#</a> 内网域名</h2> <p>最初的 SSR 服务，尝试过使用 RPC 和 HTTP 获取接口数据进行渲染，后面经过权衡后，在5.0我们统一采用了在服务器配置 HOST 的方式，配置一个内网的域名，提供给 SSR 服务通过 HTTP 请求来获取数据</p> <h2 id="服务的加载策略"><a href="#服务的加载策略" class="header-anchor">#</a> 服务的加载策略</h2> <p>为了首屏可以更快的呈现给用户，所以在服务端远程组件走的是 SSR 的渲染，在客户端路由切换的时候，走 CSR 渲染，所以在<code>首页</code>切换到<code>信号</code>栏目时，会有一些加载过程明显的白屏。</p> <p>后续可以通过 Service Worker 对所有服务的静态资源和 CSR 渲染时的 HTML 进行预加载，减少加载该服务内容时，出现白屏的几率</p> <h2 id="关于微前端"><a href="#关于微前端" class="header-anchor">#</a> 关于微前端</h2> <p>从理论上，<code>Genesis</code> 也可以同时做到 React 的支持，输出同样标准的 JSON 渲染结果、同样标准的应用创建和销毁逻辑。只是目前我们团队都是以 Vue 为主，所以这方面还需要团队有时间才能支持。</p> <h2 id="传送们"><a href="#传送们" class="header-anchor">#</a> 传送们</h2> <p><a href="https://www.followme.com/signal/?source=genesis" target="_blank" rel="noopener noreferrer"><img src="data:image/png;base64,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" alt="信号" title="title"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><a href="https://www.followme.com/c/21009745?source=genesis" target="_blank" rel="noopener noreferrer">FOLLOWME5.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 新版的策略体验</li> <li><a href="https://github.com/fmfe/genesis" target="_blank" rel="noopener noreferrer">Genesis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Github</li> <li><a href="https://fmfe.github.io/genesis-docs/" target="_blank" rel="noopener noreferrer">Genesis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档</li> <li><a href="https://github.com/lzxb/vue2-demo" target="_blank" rel="noopener noreferrer">vue demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 基于 Genesis + TS + Vuex 实现的 SSR demo</li> <li><a href="https://github.com/fmfe/vue-genesis-micro" target="_blank" rel="noopener noreferrer">微架构demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 基于 Vue SSR for Genesis 框架的微前端&amp;微服务的例子</li> <li><a href="https://fmfe.github.io/genesis-docs/blog/followme5.0.html" target="_blank" rel="noopener noreferrer">文章来源地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/genesis-docs/guide/postcss.html" class="prev">
        Postcss
      </a></span> <span class="next"><a href="/genesis-docs/blog/2020-05-25.html">
        基于 Vue CSR 的微前端实现方案
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/genesis-docs/assets/js/app.022df389.js" defer></script><script src="/genesis-docs/assets/js/2.6651e0d9.js" defer></script><script src="/genesis-docs/assets/js/3.4e60ce74.js" defer></script>
  </body>
</html>
