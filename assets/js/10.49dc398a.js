(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{368:function(e,t,r){e.exports=r.p+"assets/img/need.e96f6298.jpg"},389:function(e,t,r){"use strict";r.r(t);var s=r(42),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[e._v("#")]),e._v(" 介绍")]),e._v(" "),s("h2",{attrs:{id:"项目起源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目起源"}},[e._v("#")]),e._v(" 项目起源")]),e._v(" "),s("p",[e._v("2019年年底的时候，得知公司要推出一个 "),s("a",{attrs:{href:"https://www.followme.com?source=genesis",target:"_blank",rel:"noopener noreferrer"}},[e._v("Followme5.0"),s("OutboundLink")],1),e._v(" 的版本，到时候将会大幅度的重构整个web端的产品，所以本项目也开始应运而生。当时网站首页采用的是 "),s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" 作为SSR的框架，但是它无法满足我们的一些需求，也曾尝试过编写 "),s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" 插件来实现我们的需求，但是最终无法实现，只能另起炉灶了。")]),e._v(" "),s("h2",{attrs:{id:"为什么没有继续使用nuxt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么没有继续使用nuxt"}},[e._v("#")]),e._v(" 为什么没有继续使用Nuxt?")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.followme.com?source=genesis",target:"_blank",rel:"noopener noreferrer"}},[e._v("Followme"),s("OutboundLink")],1),e._v("是一个极其复杂的网站，我们的技术栈包含了 SSR 和 CSR，在更新公共组件的时候，经常需要同时更新十几个项目，而前端的项目编译又特别慢，就导致哪怕是一个文案的改动，也需要发布大半天。而 "),s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" 的架构形态都是单应用，无法在一个页面上同时支持多个应用实例，以及做到 SSR 微服务化。在微服务理念的构思下，我们开始思考如何重新设计我们需要的架构。")]),e._v(" "),s("h2",{attrs:{id:"我们的需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#我们的需求"}},[e._v("#")]),e._v(" 我们的需求")]),e._v(" "),s("p",[s("img",{attrs:{src:r(368),alt:"我们的需求"}}),e._v("\n我们需要"),s("code",[e._v("远程组件")]),e._v("、"),s("code",[e._v("微服务")]),e._v("、"),s("code",[e._v("微前端")]),e._v("、"),s("code",[e._v("降级渲染")]),e._v("、"),s("code",[e._v("SEO")]),e._v("，经过了一些技术的调研，包括了 "),s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" ，最终选择了自己造轮子。")]),e._v(" "),s("h2",{attrs:{id:"架构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#架构"}},[e._v("#")]),e._v(" 架构")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[e._v("核心库")]),e._v(" "),s("th",{staticStyle:{"text-align":"center"}},[e._v("版本号")]),e._v(" "),s("th",{staticStyle:{"text-align":"left"}},[e._v("下载量")]),e._v(" "),s("th",{staticStyle:{"text-align":"left"}},[e._v("说明")])])]),e._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/core/",target:"_blank",rel:"noopener noreferrer"}},[e._v("@fmfe/genesis-core"),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-core",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@fmfe/genesis-core.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-core",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/@fmfe/genesis-core.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[e._v("提供基础的插件机制、SSR渲染逻辑、程序配置")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/compiler/",target:"_blank",rel:"noopener noreferrer"}},[e._v("@fmfe/genesis-compiler"),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-compiler",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@fmfe/genesis-compiler.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-compiler",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/@fmfe/genesis-compiler.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[e._v("仅限开发环境使用，负责编译程序以及在开发时编译，处理webpack的核心逻辑")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/app/",target:"_blank",rel:"noopener noreferrer"}},[e._v("@fmfe/genesis-app"),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-app",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@fmfe/genesis-app.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-app",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/@fmfe/genesis-app.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[e._v("快速创建应用，包装了 vue-router ，在微前端应用时支持多个 Router实例时特别有用")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/remote/",target:"_blank",rel:"noopener noreferrer"}},[e._v("@fmfe/genesis-remote"),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-remote",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@fmfe/genesis-remote.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-remote",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/@fmfe/genesis-remote.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[e._v("远程组件，实现微前端的核心依赖")])]),e._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-lint",target:"_blank",rel:"noopener noreferrer"}},[e._v("@fmfe/genesis-lint"),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-lint",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@fmfe/genesis-lint.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.npmjs.com/package/@fmfe/genesis-lint",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img.shields.io/npm/dm/@fmfe/genesis-lint.svg",alt:"npm"}}),s("OutboundLink")],1)]),e._v(" "),s("td",{staticStyle:{"text-align":"left"}},[e._v("一个代码规范的集成，包含了eslint和stylelint")])])])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" 是将 webpack、babel 等开发时用到的依赖，都整合到一个包里，所以就造成了发布生产环境时，需要安装的依赖就特别的多，导致了 docker 构建出来的镜像就特别的大。所以在设计 "),s("code",[e._v("Genesis")]),e._v(" 时，将生产和开发时用到的功能，分别拆分成 "),s("code",[e._v("@fmfe/genesis-core")]),e._v(" 和 "),s("code",[e._v("@fmfe/genesis-compiler")]),e._v("，这样在生产环境时，只需要安装 "),s("code",[e._v("@fmfe/genesis-core")]),e._v(" 即可，对比 "),s("a",{attrs:{href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nuxt"),s("OutboundLink")],1),e._v(" 将会大大的减少了 docker 镜像的体积")]),e._v(" "),s("h3",{attrs:{id:"小型项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小型项目"}},[e._v("#")]),e._v(" 小型项目")]),e._v(" "),s("p",[e._v("如果你的项目比较简单，不需要考虑"),s("code",[e._v("微服务")]),e._v("、"),s("code",[e._v("微前端")]),e._v("，只需要使用 "),s("code",[e._v("@fmfe/genesis-core")]),e._v(" 和 "),s("code",[e._v("@fmfe/genesis-compiler")]),e._v(" 即可。")]),e._v(" "),s("h3",{attrs:{id:"大型项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#大型项目"}},[e._v("#")]),e._v(" 大型项目")]),e._v(" "),s("p",[e._v("如果你的项目比较复杂的情况下，需要拓展到"),s("code",[e._v("微服务")]),e._v("、"),s("code",[e._v("微前端")]),e._v("，才需要使用 "),s("code",[e._v("@fmfe/genesis-app")]),e._v(" 和 "),s("code",[e._v("@fmfe/genesis-remote")]),e._v("。")]),e._v(" "),s("h3",{attrs:{id:"代码风格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码风格"}},[e._v("#")]),e._v(" 代码风格")]),e._v(" "),s("p",[s("code",[e._v("@fmfe/genesis-lint")]),e._v(" 是基于一些开源的规范的整合，你完全可以使用其它的第三方 lint 插件。")]),e._v(" "),s("h2",{attrs:{id:"定位"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定位"}},[e._v("#")]),e._v(" 定位")]),e._v(" "),s("p",[s("code",[e._v("Genesis")]),e._v(" 是一个轻量级的 Vue SSR 库，它不是框架，它只是提供了最底层 SSR 相关的能力，比如你想做微前端、微服务、或者生成静态的HTML网站、PWA等等，你都需要通过第三方的插件来完成，后续的篇幅将会带你更加深入的学习和了解 "),s("code",[e._v("Genesis")]),e._v("。")])])}),[],!1,null,null,null);t.default=n.exports}}]);